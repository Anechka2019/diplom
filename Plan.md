# *План тестирования функции "Путешествие дня"*

*Примечание: Сценарии с взаимодейстием с базой данных необходимо пройти используя и базу данных PostgreSQL, и БД MySQL для проверки работоспособности с приложением каждой из них.*

## Перечень автоматизируемых сценариев:

#### Сценарий № 1. Оплата по карте: успешная операция.
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: 4444 4444 4444 4441
4. Заполняем поле «Месяц»: 11 
5. Заполняем поле «Год»: 22
6. Заполняем поле "Владелец": Смирнова Анна 
7. Заполняем поле cvc: 956 
8. Нажимаем кнопку «Продолжить»
9. Сделать запрос в БД, чтобы найти запись об операции

#### Ожидаемый результат: нотификация "Успешно", в БД есть запись APPROVED.

#### Сценарий № 2. Оплата по карте: неуспешная операция.
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: 4444 4444 4444 4442
4. Заполняем поле «Месяц»: 11 
5. Заполняем поле «Год»: 22
6. Заполняем поле "Владелец": Смирнова Анна 
7. Заполняем поле cvc: 956 
8. Нажимаем кнопку «Продолжить»
9. Сделать запрос в БД, чтобы найти запись об операции

#### Ожидаемый результат: нотификация "Неуспешно", в БД есть запись DECLINED.

#### Сценарий № 3. Оплата в кредит: успешная операция.
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: 4444 4444 4444 4441
4. Заполняем поле «Месяц»: 11 
5. Заполняем поле «Год»: 22
6. Заполняем поле "Владелец": Смирнова Анна 
7. Заполняем поле cvc: 956 
8. Нажимаем кнопку «Продолжить»
9. Сделать запрос в БД, чтобы найти запись об операции"

#### Ожидаемый результат: нотификация "Успешно", в БД есть запись APPROVED.

#### Сценарий № 4. Оплата в кредит: неуспешная операция.
Исходное состояние: SUT запущен, выбрана страница "Купить в кредит".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: 4444 4444 4444 4442
4. Заполняем поле «Месяц»: 11 
5. Заполняем поле «Год»: 22
6. Заполняем поле "Владелец": Смирнова Анна 
7. Заполняем поле cvc: 956 
8. Нажимаем кнопку «Продолжить»
9. Сделать запрос в БД, чтобы найти запись об операции

#### Ожидаемый результат: нотификация "Неуспешно", в БД есть запись DECLINED.

#### Сценарий № 5. Проверка поля Номер карты.
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: 4444 4444 4444 4444
4. Заполняем поле «Месяц»: 11 
5. Заполняем поле «Год»: 22
6. Заполняем поле "Владелец": Смирнова Анна 
7. Заполняем поле cvc: 956 
8. Нажимаем кнопку «Продолжить» 

#### Ожидамый результат: заявка не отправляется, есть сообщение об ошибке: "Неверный номер карты".

#### Сценарий № 6. Проверка поля Месяц (дата меньше текущей).
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: 4444 4444 4444 4441
4. Заполняем поле «Месяц»: 11 
5. Заполняем поле «Год»: 19
6. Заполняем поле "Владелец": Смирнова Анна 
7. Заполняем поле cvc: 956 
8. Нажимаем кнопку «Продолжить» 

#### Ожидамый результат: заявка не отправляется, есть сообщение об ошибке: "Неверная дата".

#### Сценарий № 7. Проверка поля Год (дата меньше текущей).
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: 4444 4444 4444 4441
4. Заполняем поле «Месяц»: 12 
5. Заполняем поле «Год»: 18
6. Заполняем поле "Владелец": Смирнова Анна 
7. Заполняем поле cvc: 956 
8. Нажимаем кнопку «Продолжить» 

#### Ожидамый результат: поле Год подсвечено, есть сообщение об ошибке:"Неверная дата".

#### Сценарий № 8. Проверка полей Месяц, Год (дата равна текущей).
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: 4444 4444 4444 4441
4. Заполняем поле «Месяц»: 12 
5. Заполняем поле «Год»: 19
6. Заполняем поле "Владелец": Смирнова Анна 
7. Заполняем поле cvc: 956 
8. Нажимаем кнопку «Продолжить»  

#### Ожидамый результат: нотификация "Успешно".

#### Сценарий № 9. Проверка поля cvc.
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: 4444 4444 4444 4441
4. Заполняем поле «Месяц»: 12
5. Заполняем поле «Год»: 23
6. Заполняем поле "Владелец" Смирнова Анна 
7. Заполняем поле cvc: 56 
8. Нажимаем кнопку «Продолжить» 

#### Ожидамый результат: поле cvc подсвечено, есть сообщение об ошибке: "Неверный код cvc".

#### Сценарий № 10. Проверка поля "Владелец" (не заполнено).
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: 4444 4444 4444 4441
4. Заполняем поле «Месяц»: 12 
5. Заполняем поле «Год»: 23
6. Заполняем поле "Владелец": « »
7. Заполняем поле cvc: 567 
8. Нажимаем кнопку «Продолжить» 

#### Ожидамый результат: заявка не отправляется, есть сообщение об ошибке: "Поле обязательно для заполнения".

#### Сценарий № 11. Проверка поля "Номер карты" (не заполнено).
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: « »
4. Заполняем поле «Месяц»: 12
5. Заполняем поле «Год»: 22
6. Заполняем поле "Владелец": Смирнова Анна 
7. Заполняем поле cvc: 567 
8. Нажимаем кнопку «Продолжить» 

#### Сценарий № 12. Проверка покупки с несуществующей карты.
Исходное состояние: SUT запущен, выбрана страница "Оплата по карте".

Шаги:
1. Заходим на страницу покупки путешествия 
2. Нажимаем кнопку «Купить»
3. Заполняем поле «Номер карты»: «1234123412341234»
4. Заполняем поле «Месяц»: 12
5. Заполняем поле «Год»: 22
6. Заполняем поле "Владелец": Смирнова Анна 
7. Заполняем поле cvc: 567 
8. Нажимаем кнопку «Продолжить» 

#### Ожидамый результат: не показана нотификация "Успешно".
________________________________________________________________

## Перечень используемых инструментов с обоснованием выбора:
1. IDEA для написания тестов, как одна из наиболее распространенных в разработке, удобная для работы (не требует установки дополнений, комфортна в работе, дает возможность подключения различных библиотек для написания тестов) 
2. Java 8 как наиболее оптимальная и распространенная версия 
3. Play with docker для "упаковки" готового к тестированию продукта, передачи всех параметров тестируемой среды и создания "виртуальной машины" для тестирования приложения 
4. Junit, jupiter 5.5.1 - для создания тестов и параметризированных тестов 
5. Selenide т.к имеет более оптимальный синтаксис по сравнению с Selenium и позволяет управлять браузером 
6. Faker для быстрой генерации данных, позволяет не привязывать тесты к определенным данным и каждый раз генерировать уникальные данные 
7. Allure для построения удобочитаемой единой отчетности по всем тестам со скрин-шотами, подробными описаниями 
8. MySQL и PostgreSQL для проверки работоспособности системы в различных БД. 
______________________________________________________________________

## Перечень и описание возможных рисков при автоматизации:
* возникновение проблем в разворачиванием инфраструктуры: запуском контейнеров и SUT 
* отсутствие документации к сервису 
* возникновение проблем с одновременной поддержкой MySql / Postgres 
* отклонение от составленного плана тестирования (необходимость добавления новых тестов) 
______________________________________________________________________

## Перечень и описание возможных рисков при автоматизации:
1. Сложности в работе с БД и docker 
2. Сложности в корректном запуске SUT и node.js 
3. Возможно наличие элементов без уникальных атрибутов 
4. Отсутствие спека и описания сценариев поведения системы 
5. Отсутствие времени в связи с высокой загрузкой на основной работе
______________________________________________________________________

## Интервальная оценка с учетом рисков (в часах):
с учетом рисков - около 40 часов.
______________________________________________________

## План сдачи работ:
1. Написание тестов до 26 декабря 
2. Предоставление отчетов до 27 декабря